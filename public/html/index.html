<!DOCTYPE html>
<html>

<head>
  <title>FAC-HACK</title>
</head>

<body>
  <ul id="messages"></ul>
  <form action="">
    <input id="inputBox" />
    <button>Post</button>
  </form>
  <script src="/socket.io/socket.io.js"></script>
  <script>

  var socket = io();
  var form = document.getElementsByTagName('form')[0];
  form.addEventListener('submit', emitMsg);

  function emitMsg(e){
    console.log("emit me");
    e.preventDefault();
    var input = document.getElementById('inputBox');
    var messages= document.getElementById('messages');
    socket.emit('chat message in', input.value);
    input.value = '';
  };
  socket.on('chat message out', function(msg){
    messages.innerHTML += ("<li>"+msg+"</li>");
  });

  </script>
</body>

</html>
